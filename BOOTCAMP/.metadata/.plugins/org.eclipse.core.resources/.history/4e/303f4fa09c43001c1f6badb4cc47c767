package day10;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Scanner;
import java.util.Vector;

/*
 * 메뉴 선택 0 내용 추가, 1 검색, 2 삭제, 3 종료
 * 1.언어 선택(한국어, 영어)
 * 
 * 
 */
public class HomeWork {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner sc = new Scanner(System.in);
		int language, option;
		System.out.print("Choose Language(0.Korean, 1.english): ");
		language = sc.nextInt();
		AddressBook ab = null;
		switch(language) {
			case 0:
				ab = new AddressBookKR();
				break;
			case 1:
				ab = new AddressBookEN();
				break;
			default:
				System.out.println("Not Support Language");
				break;
		}
		do {
			ab.displayMenu();
			option=sc.nextInt();
			switch(option) {
				case 0:
					ab.addRecord();
					break;
				case 1:
					Record temp = ab.getRecord();
					break;
				case 2:
					ab.delRecord();
					break;
				default:
					break;
			}
		}while(option<3);
	}

}

class Record{
	private String name;
	private String phoneNumber;
	private String address;
	
	public Record() {
		name ="";
		phoneNumber ="";
		address = "";
	}
	
	public Record(String name, String phoneNumber, String address) {
		this.name = name;
		this.phoneNumber = phoneNumber;
		this.address = address;
	}
	public String getName() {
		return name;
	}

	public String getPhoneNumber() {
		return phoneNumber;
	}

	public String getAddress() {
		return address;
	}
	@Override
	public String toString() {
		return "이름: "+name+"\t 전화번호: "+phoneNumber+"\t 주소: "+address;
	}
}
abstract class AddressBook{
	protected Vector<Record> vecRs;
	protected BufferedReader bfr;
	public AddressBook(){
		vecRs = new Vector<Record>();
		bfr = new BufferedReader(new InputStreamReader(System.in));
	}
	public void addRecord(){
		try {
			bfr.ready();
			Record temp;
			String name, phoneNumber, address;
			name=bfr.readLine();
			phoneNumber=bfr.readLine();
			address=bfr.readLine();
			temp = new Record(name,phoneNumber,address);
			vecRs.add(temp);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
	public void getRecord(){
		Record temp = null;
		try {
			bfr.ready();
			String name = bfr.readLine();
			for(int i=0; i<vecRs.size(); i++) {
				if(vecRs.get(i).getName().equals(name))
					temp = vecRs.get(i);
			}
		}catch(IOException e){
			e.printStackTrace();
		}finally {
			System.out.println(temp.getName()+", "+temp.getPhoneNumber()+", "+temp.getAddress());
		}
	}
	public void delRecord() {
		try {
			bfr.ready();
			String name = bfr.readLine();
			int index = -1;
			for(int i=0; i<vecRs.size(); i++) {
				if(vecRs.get(i).getName().equals(name)) {
					index = i;
					break;
				}
			}
			if(index>-1) {
				vecRs.remove(index);
			}
		}catch(IOException e){
			e.printStackTrace();
		}
	}
	public abstract void displayMenu();
}

class AddressBookKR extends AddressBook{
	public void addRecord() {
		System.out.println("주소 입력(1.이름,2.전화번호,3.주소 순으로 각 1줄씩)");
		super.addRecord();
	}
	public void getRecord() {
		System.out.println("이름 입력");
		super.getRecord();
	}
	public void delRecord() {
		System.out.println("이름 입력");
		super.delRecord();
	}
	@Override
	public void displayMenu() {
		// TODO Auto-generated method stub
		System.out.println("[메뉴]");
		System.out.println("0. 새 내용을 추가");
		System.out.println("1. 검색");
		System.out.println("2. 삭제");
		System.out.println("3. 종료");
		System.out.print("메뉴를 선택하세요: ");
	}
}

class AddressBookEN extends AddressBook{
	public void addRecord() {
		System.out.println("input Address(1.name,2.phoneNumber,3.address each 1 Line)");
		super.addRecord();
	}
	public void getRecord() {
		System.out.println("input Name");
		super.getRecord();
	}
	public void delRecord() {
		System.out.println("input Name");
		super.delRecord();
	}
	@Override
	public void displayMenu() {
		// TODO Auto-generated method stub
		System.out.println("[Menu]");
		System.out.println("0. Add new record");
		System.out.println("1. Search");
		System.out.println("2. Delete");
		System.out.println("3. Quit");
		System.out.print("Select Menu: ");
	}
}